<div class="container-fluid p-4 page-enter">

  <h3 class="fw-bold mb-4 title-animate">Create Transaction</h3>

  <div class="row justify-content-center">
    <div class="col-lg-8">
      <div class="card-shadow p-4 form-card">

        <form (ngSubmit)="createTransaction()">

          <!-- ERROR MESSAGE -->
          @if (loginErrorMessage) {
            <div class="alert alert-danger">
              {{ loginErrorMessage }}
            </div>
          }

          <!-- TRANSACTION TYPE -->
          <div class="mb-3">
            <label class="form-label fw-semibold">Transaction Type</label>
            <select
              class="form-select"
              [(ngModel)]="transtaction"
              name="transtaction"
              (change)="checkAmount()">
              <option value="virement">Virement</option>
              <option value="Retrait">Retrait</option>
              <option value="Versement">Versement</option>
            </select>
          </div>

          <!-- AMOUNT -->
          <div class="mb-3">
            <label class="form-label fw-semibold">Amount</label>
            <input
              type="number"
              class="form-control"
              [(ngModel)]="newTransaction.montant"
              name="montant"
              (input)="checkAmount()"
              placeholder="Enter amount">
          </div>

          <!-- DESCRIPTION -->
          <div class="mb-3">
            <label class="form-label fw-semibold">Description</label>
            <textarea
              class="form-control"
              rows="3"
              [(ngModel)]="newTransaction.description"
              name="description">
            </textarea>
          </div>

          <!-- DESTINATION ACCOUNT -->
          @if (transtaction === 'virement') {
            <div class="mb-3">
              <label class="form-label fw-semibold">Destination Account ID</label>
              <input
                type="text"
                class="form-control"
                [(ngModel)]="newTransaction.accIdDestin"
                name="accIdDestin"
                placeholder="Enter destination account ID">
            </div>
          }

          <!-- ACTIONS -->
          <div class="d-flex justify-content-end gap-3 mt-4">
            <button
              type="button"
              class="btn btn-outline-secondary"
              (click)="returnToTran()">
              Cancel
            </button>

            <button
              type="submit"
              class="btn btn-mint px-4"
              [disabled]="isInsufficient">
              Create Transaction
            </button>
          </div>

        </form>

      </div>
    </div>
  </div>
</div>
